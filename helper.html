<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script>
      document.title = "By Xaka";
      function copy() {
        navigator.clipboard.writeText(
          document.getElementById("result").innerText
        );
      }
      function encrypt(incomeStr) {
        console.log(encodeURIComponent(incomeStr));
        return btoa(encodeURIComponent(incomeStr));
      }
      function hack() {
        let name = document.getElementById("name").value;
        let stuid = document.getElementById("stuid").value;
        let phone = document.getElementById("phone").value;
        let type = document.getElementById("type").value;
        let reason = document.getElementById("reason").value;
        let endDate = document.getElementById("endDate").value;
        let applyDate = document.getElementById("applyDate").value;
        let beginDate = document.getElementById("beginDate").value;
        let class_ = document.getElementById("class").value;
        let major = document.getElementById("major").value;
        let counselor = document.getElementById("counselor").value;
        let attachement = document.querySelector(
          'input[name="attachment"]:checked'
        ).value;
        let key = document.getElementById("key").value;
        let resultURI = encodeURI(
          "https://fakelicense.xaka.io/?" +
            "uhT4qsG=" +
            encrypt(name) +
            "&1swtD3l=" +
            encrypt(stuid) +
            "&HfOBIbP=" +
            encrypt(phone) +
            "&dQ8MYM7=" +
            encrypt(type) +
            "&4mV8bql=" +
            encrypt(reason) +
            "&uuQyl3N=" +
            encrypt(endDate) +
            "&J2mz97K=" +
            encrypt(attachement) +
            "&WoM32XF=" +
            encrypt(applyDate) +
            "&AYAM6U4=" +
            encrypt(beginDate) +
            "&2y4hf2D=" +
            encrypt(counselor) +
            "&r1LAdSn=" +
            encrypt(major) +
            "&qR6HBze=" +
            encrypt(class_) +
            "&MXn9KR2=" +
            key
        );
        document.getElementById("result").innerText = resultURI;
        document.getElementById("result").href = resultURI;
        document.getElementById("copy").style.visibility = "visible";
      }
    </script>
  </head>
  <body>
    <h1>Private Licence Generator 4 WZBC [Version 1.1.0 PRIVATE]</h1>
    <h2>(微信内无法一键复制到剪切板，请在浏览器中打开本网页)</h2>
    <h2>"The quieter you become, the more you can hear." -- Ram Dass</h2>
    <form>
      <label for="name">姓名:</label><br />
      <input type="text" id="name" name="name" /><br />
      <label for="stuid">学号:</label><br />
      <input type="text" id="stuid" name="stuid" /><br />
      <label for="phone">手机号:</label><br />
      <input type="text" id="phone" name="phone" /><br />
      <label for="college">学院:</label><br />
      <input type="text" id="college" name="college" value="国际学院"/><br />
      <label for="class">班级:</label><br />
      <input type="text" id="class" name="class" value="20国际计算机1班"/><br />
      <label for="major">专业:</label><br />
      <input type="text" id="major" name="major" value="计算机应用技术"/><br />
      <label for="counselor">辅导员:</label><br />
      <input type="text" id="counselor" name="counselor" value="陈昭棋"/><br />
      <label for="type">外出类型:</label><br />
      <input type="text" id="type" name="type" /><br />
      <label for="reason">事由:</label><br />
      <input type="text" id="reason" name="reason" /><br />
      <label for="reason">申请日期(至少比开始日期早一天):</label><br />
      <input
        type="text"
        id="applyDate"
        name="applyDate"
        value="2022-03-22"
      /><br />
      <label for="reason">开始日期(请严格按照 yyyy-MM-dd的格式来填写):</label
      ><br />
      <input
        type="text"
        id="beginDate"
        name="beginDate"
        value="2022-03-25"
      /><br />
      <label for="endDate">结束日期(请严格按照 yyyy-MM-dd的格式来填写):</label
      ><br />
      <input type="text" id="endDate" name="endDate" value="2022-04-20" /><br />
      <label for="attachement">是否有附件:</label><br />
      <input type="radio" value="0" name="attachment" />有
      <input type="radio" value="1" name="attachment" checked />无<br />

      <label for="reason"><strong>PRIVATE KEY[IMPORTANT]:</strong></label
      ><br />
      <input type="text" id="key" name="key" /><br />
    </form>
    <button onclick="hack()">生成</button><br />
    <h2>USE WITH CAUTION</h2>
    <br />
    <button style="visibility: hidden" onclick="copy()" id="copy">
      复制到剪切板
    </button>
    <a id="result"></a>
  </body>
</html>
